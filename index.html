<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Janitha Devin Ratnayake</title>

    <link rel="icon" type="image/png" href="./images/portfolio-icon.png" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div class="container-fluid">
      <div class="upper">
        <nav class="navbar navbar-expand-lg bg-body-tertiary w-100">
          <div class="container-fluid">
            <div class="name-btn">
              <a class="navbar-brand nav-link" href="#" data-section="home">Janitha Devin Ratnayake</a>
            </div>  

            <div class="collapse navbar-collapse navbar-item-btn" id="navbarNavAltMarkup">
              <div class="navbar-nav">
                <a class="nav-link active" aria-current="page" href="#">About</a>
                <a class="nav-link" aria-current="page" href="#">Experience</a>
                <a class="nav-link" href="#"> Projects </a>
                <a class="nav-link" href="#"> Publications </a>
              </div>
            </div>

            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNavAltMarkup"
              aria-controls="navbarNavAltMarkup"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
          </div>
        </nav>
      </div>

      <div class="lower">
        <div class="col-2 text-center">
          <div class="profile-picture text-center">
            <img src="./images/profile-pic-2.png" alt="..." />
          </div>

          <div class="details">
            <div class="basic">
              <div class="name">Janitha Devin Ratnayake</div>
              <div class="second">Software Engineer at WealthOS</div>
            </div>

            <div class="social-media-account-list">
              <a href="mailto:janithadevin@gmail.com" target="_blank">
                <img src="./images/email.png" alt="Email" />
                <span>Email</span>
              </a>
              <a href="https://github.com/jdratnayake" target="_blank">
                <img src="./images/github.png" alt="GitHub" />
                <span>GitHub</span>
              </a>
              <a href="https://www.linkedin.com/in/jdratnayake/" target="_blank">
                <img src="./images/linkedin.png" alt="LinkedIn" />
                <span>LinkedIn</span>
              </a>
            </div>
            

            <div class="skills-list">
              <h5>Programming Languages</h5>
              <div class="skill-icons">
                <div class="skill-item">
                  <img src="./images/typescript.png" alt="TypeScript" />
                  <span>TypeScript</span>
                </div>
                <div class="skill-item">
                  <img src="./images/python.png" alt="Python" />
                  <span>Python</span>
                </div>
                <div class="skill-item">
                  <img src="./images/c.png" alt="C" />
                  <span>C</span>
                </div>
                <div class="skill-item">
                  <img src="./images/c++.png" alt="C++" />
                  <span>C++</span>
                </div>
                <div class="skill-item">
                  <img src="./images/java.png" alt="Java" />
                  <span>Java</span>
                </div>
              </div>
            
              <h5>Web Development</h5>
              <div class="skill-icons">
                <div class="skill-item">
                  <img src="./images/react.png" alt="React" />
                  <span>React</span>
                </div>
                <div class="skill-item">
                  <img src="./images/nodejs.png" alt="Node.js" />
                  <span>Node.js (Express)</span>
                </div>
                <div class="skill-item">
                  <img src="./images/laravel.svg" alt="Laravel" />
                  <span>Laravel</span>
                </div>
              </div>
            
              <h5>Databases</h5>
              <div class="skill-icons">
                <div class="skill-item">
                  <img src="./images/mongodb.svg" alt="MongoDB" />
                  <span>MongoDB</span>
                </div>
                <div class="skill-item">
                  <img src="./images/redis.svg" alt="Redis" />
                  <span>Redis</span>
                </div>
                <div class="skill-item">
                  <img src="./images/mysql.svg" alt="MySQL" />
                  <span>MySQL</span>
                </div>
                <div class="skill-item">
                  <img src="./images/postgresql.svg" alt="PostgreSQL" />
                  <span>PostgreSQL</span>
                </div>
              </div>
            
              <h5>Other Technologies</h5>
              <div class="skill-icons">
                <div class="skill-item">
                  <img src="./images/git.svg" alt="Git" />
                  <span>Git</span>
                </div>
                <div class="skill-item">
                  <img src="./images/linux.svg" alt="Linux" />
                  <span>Linux</span>
                </div>
                <div class="skill-item">
                  <img src="./images/docker.svg" alt="Docker" />
                  <span>Docker</span>
                </div>
              </div>
            </div>            
        </div>
      </div>

      <div class="col-10 information-container">
        <button id="backToTop" class="back-to-top">â†‘ Back to Top</button>
      </div>
    </div>

    <footer class="footer">
      <div>&copy; 2025 Janitha Devin Ratnayake. All rights reserved.</div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const navLinks = document.querySelectorAll(".nav-link");
        const infoContainer = document.querySelector(".information-container");
        const backToTopBtn = document.getElementById("backToTop");
    
        // Function to load HTML content
        function loadContent(page) {
          fetch(page)
            .then(response => response.text())
            .then(data => {
              infoContainer.innerHTML = data;
    
              // Append Back to Top Button after content loads
              infoContainer.appendChild(backToTopBtn);
            })
            .catch(error => {
              console.error("Error loading page:", error);
              infoContainer.innerHTML = "<p>Error loading content.</p>";
            });
        }
    
        // Show/Hide Back to Top Button on Scroll
        infoContainer.addEventListener("scroll", function () {
          if (infoContainer.scrollTop > 200) {
            backToTopBtn.classList.add("show");
          } else {
            backToTopBtn.classList.remove("show");
          }
        });
    
        // Scroll to Top when button is clicked
        backToTopBtn.addEventListener("click", function () {
          infoContainer.scrollTo({
            top: 0,
            behavior: "smooth"
          });
        });
    
        // Load default home content on page load
        loadContent("./sub-pages/home.html");
    
        // Attach event listeners to navbar links
        navLinks.forEach(link => {
          link.addEventListener("click", function (event) {
          event.preventDefault();
          
          const clickedLink = event.target.closest("a"); // Ensure we always get the <a> element
          if (!clickedLink) return; // If somehow not an <a>, exit
          
          let section = clickedLink.innerText.trim();

          const pageMapper = {
            "Janitha Devin Ratnayake": "./sub-pages/home.html",
            "About": "./sub-pages/home.html",
            "Experience": "./sub-pages/experience.html",
            "Projects": "./sub-pages/projects.html",
            "Publications": "./sub-pages/publications.html"
          };

          // If "Janitha Devin Ratnayake" is clicked, also set the section as "About"
          if (section === "Janitha Devin Ratnayake") {
            section = "About"; // Treat it as clicking "About"
          }

          if (pageMapper[section]) {
            loadContent(pageMapper[section]);

            // Remove 'active' class from all links and add it to the clicked one
            navLinks.forEach(link => link.classList.remove("active"));

            // Find the "About" link and set it as active when clicking "Janitha Devin Ratnayake"
            if (section === "About") {
              const aboutLink = [...navLinks].find(link => link.innerText.trim() === "About");
              if (aboutLink) {
                aboutLink.classList.add("active");
              }
            } else {
              clickedLink.classList.add("active");
            }
          }
        });
});

      });

      const isUnderDevelopment = false; // Toggle this to enable/disable the banner

      if (isUnderDevelopment) {
        const banner = document.createElement("div");
        banner.textContent = "ðŸš§ This website is currently under development. Some information may be outdated or incorrect, and some features may not work properly. ðŸš€";
        banner.style.backgroundColor = "#ffcc00";
        banner.style.color = "#333";
        banner.style.textAlign = "center";
        banner.style.fontWeight = "bold";
        banner.style.fontSize = "14px";
        banner.style.padding = "10px";
        banner.style.position = "fixed";
        banner.style.width = "100%";
        banner.style.top = "0";
        banner.style.left = "0";
        banner.style.zIndex = "1000";
        
        document.body.prepend(banner);


        // Add margin to body to prevent content overlap
        document.body.style.marginTop = "40px"; // Adjust height based on banner size
      }
    </script>
    
    
    

    <!-- Bootstrap Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
